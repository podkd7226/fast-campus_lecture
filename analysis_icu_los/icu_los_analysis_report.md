# ICU별 재원기간 상세 분석 보고서

## 목차
1. [연구 배경](#1-연구-배경)
2. [데이터 개요](#2-데이터-개요)
3. [분석 방법론](#3-분석-방법론)
4. [분석 결과](#4-분석-결과)
5. [임상적 해석](#5-임상적-해석)
6. [결론 및 제언](#6-결론-및-제언)

---

## 1. 연구 배경

### 1.1 연구의 필요성
중환자실(ICU) 재원기간은 환자의 예후와 의료 자원 활용을 평가하는 핵심 지표입니다. ICU 유닛별로 환자 특성과 치료 강도가 다르므로, 각 유닛의 재원기간 패턴을 이해하는 것은 효율적인 중환자 관리에 필수적입니다.

### 1.2 연구 목적
- ICU 유닛별 재원기간 분포와 특성 파악
- 재원기간과 사망률의 관계 분석
- ICU 운영 효율화를 위한 데이터 기반 인사이트 도출

---

## 2. 데이터 개요

### 2.1 데이터 출처
- **데이터셋**: MIMIC-IV v2.0
- **샘플링**: 균형잡힌 사망률 분포를 위한 층화 샘플링 1,200명
- **분석 대상**: ICU 입실 기록이 있는 378명 (31.5%)

### 2.2 ICU 데이터 현황
```
총 ICU 입실 기록: 451건
고유 환자 수: 345명
고유 입원 건수: 378건
ICU 유닛 수: 9개
```

### 2.3 ICU 유닛별 분포
| ICU 유닛 | 입실 건수 | 비율 |
|----------|-----------|------|
| Medical ICU (MICU) | 115 | 25.5% |
| Medical/Surgical ICU (MICU/SICU) | 102 | 22.6% |
| Surgical ICU (SICU) | 68 | 15.1% |
| Coronary Care Unit (CCU) | 59 | 13.1% |
| Trauma SICU (TSICU) | 45 | 10.0% |
| Cardiac Vascular ICU (CVICU) | 36 | 8.0% |
| Neuro Surgical ICU | 18 | 4.0% |
| Neuro Intermediate | 7 | 1.6% |
| Neuro Stepdown | 1 | 0.2% |

---

## 3. 분석 방법론

### 3.1 재원기간 정의
- **정의**: ICU 입실(intime)부터 퇴실(outtime)까지의 기간(일 단위)
- **계산**: `los = (outtime - intime) / 24시간`

### 3.2 재원기간 구간 분류
```python
단기: 0-3일 (급성기 치료)
중기: 4-7일 (안정화 단계)
장기: 8일 이상 (만성 중환자)
```

### 3.3 통계 분석 방법
1. **기술통계**: 평균, 중앙값, 사분위수, 95 백분위수
2. **비교 분석**: ANOVA (ICU 간 차이), T-test (생존/사망 차이)
3. **상관 분석**: 재원기간과 사망률의 관계

### 3.4 분석 도구
- **언어**: Python 3.8+
- **라이브러리**: pandas, numpy, matplotlib, seaborn, scipy
- **스크립트**: `scripts/analysis/analyze_icu_los.py`

---

## 4. 분석 결과

### 4.1 전체 재원기간 통계
```
평균: 4.32일
중앙값: 2.30일
표준편차: 6.02일
최소: 0.01일
최대: 65.19일
Q1: 1.29일
Q3: 4.94일
```

### 4.2 ICU별 재원기간 분석

#### 4.2.1 평균 재원기간 순위
| 순위 | ICU 유닛 | 평균(일) | 중앙값(일) | 표준편차 |
|------|----------|----------|------------|----------|
| 1 | Neuro Surgical ICU | 5.63 | 3.49 | 5.44 |
| 2 | Coronary Care Unit | 5.32 | 2.84 | 8.31 |
| 3 | Neuro Intermediate | 5.29 | 3.67 | 5.31 |
| 4 | Surgical ICU | 4.48 | 2.67 | 5.52 |
| 5 | MICU/SICU | 4.47 | 2.31 | 7.07 |
| 6 | Medical ICU | 3.84 | 2.04 | 4.42 |
| 7 | Trauma SICU | 3.69 | 1.94 | 4.51 |
| 8 | Cardiac Vascular ICU | 3.47 | 2.17 | 3.30 |

#### 4.2.2 재원기간 구간별 분포
```
단기 (0-3일): 262건 (58.1%)
중기 (4-7일): 111건 (24.6%)
장기 (8일+): 78건 (17.3%)
```

### 4.3 사망률과 재원기간 관계

#### 4.3.1 사망 그룹별 재원기간
| 그룹 | 평균(일) | 중앙값(일) | 건수 |
|------|----------|------------|------|
| 생존 | 3.02 | 1.89 | 84 |
| 병원 내 사망 | 4.84 | 2.68 | 305 |
| 퇴원 후 사망 | 3.52 | 2.04 | 62 |

#### 4.3.2 ICU별 사망률
| ICU 유닛 | 생존(%) | 병원 내 사망(%) | 퇴원 후 사망(%) |
|----------|---------|-----------------|-----------------|
| CVICU | 36.1 | 41.7 | 22.2 |
| CCU | 22.0 | 69.5 | 8.5 |
| MICU | 13.0 | 67.8 | 19.1 |
| MICU/SICU | 13.7 | 69.6 | 16.7 |
| SICU | 14.7 | 72.1 | 13.2 |
| TSICU | 22.2 | 77.8 | 0.0 |
| Neuro SICU | 22.2 | 77.8 | 0.0 |

### 4.4 통계적 검정 결과

#### 4.4.1 ANOVA 검정 (ICU 간 차이)
```
F-statistic: 0.7142
p-value: 0.6130
결과: ICU 간 재원기간 차이는 통계적으로 유의하지 않음 (α=0.05)
```

#### 4.4.2 T-test (생존/사망 차이)
```
t-statistic: -2.6600
p-value: 0.0081
결과: 사망 환자의 재원기간이 유의하게 더 김 (α=0.05)
```

---

## 5. 임상적 해석

### 5.1 주요 발견사항

#### 5.1.1 신경계 ICU의 긴 재원기간
- **Neuro Surgical ICU**: 평균 5.63일로 가장 긴 재원기간
- **원인**: 
  - 뇌수술 후 회복 기간 필요
  - 의식 수준 회복까지 시간 소요
  - 신경학적 모니터링 필요

#### 5.1.2 심장계 ICU의 특성
- **CVICU**: 평균 3.47일로 상대적으로 짧은 재원기간
- **특징**:
  - 심장 수술 후 빠른 회복 프로토콜
  - 조기 재활 프로그램 적용
  - 표준화된 치료 경로

#### 5.1.3 사망률과 재원기간의 역설
- 사망 환자가 생존 환자보다 1.6일 더 긴 재원기간
- **해석**:
  - 중증 환자일수록 집중치료 기간 연장
  - 다양한 치료 시도에도 불구하고 사망
  - 연명치료 결정까지의 시간

### 5.2 ICU 유형별 특성

#### 5.2.1 내과계 ICU (MICU)
- 다양한 내과 질환 환자
- 감염, 호흡부전, 대사 이상 등
- 평균 재원기간: 3.84일

#### 5.2.2 외과계 ICU (SICU)
- 수술 후 환자 관리
- 계획된 입실과 응급 입실 혼재
- 평균 재원기간: 4.48일

#### 5.2.3 혼합형 ICU (MICU/SICU)
- 내과/외과 환자 모두 수용
- 병원 자원의 효율적 활용
- 평균 재원기간: 4.47일

### 5.3 재원기간 분포의 의미

#### 5.3.1 단기 입실 (58.1%)
- 대부분 환자가 3일 이내 안정화
- 조기 퇴실 프로토콜의 중요성
- ICU 병상 회전율 향상 가능

#### 5.3.2 장기 입실 (17.3%)
- 전체의 1/6이 8일 이상 재원
- 높은 의료 자원 소비
- 장기 재원 예측 모델 필요

---

## 6. 결론 및 제언

### 6.1 주요 결론

1. **ICU별 재원기간 차이**
   - 신경계 ICU가 가장 긴 재원기간
   - 심혈관계 ICU가 상대적으로 짧음
   - 통계적으로는 유의한 차이 없음 (샘플 크기 한계)

2. **사망률과 재원기간**
   - 사망 환자의 재원기간이 유의하게 더 김
   - ICU별 사망률 차이 존재
   - 중증도와 재원기간의 상관관계

3. **재원기간 패턴**
   - 절반 이상이 3일 이내 단기 입실
   - 이중 분포 (단기 vs 장기) 패턴
   - ICU 유형별 특성 반영

### 6.2 실무 적용 제언

#### 6.2.1 ICU 운영 효율화
- **병상 관리**: 단기/장기 환자 구분 관리
- **인력 배치**: ICU별 재원기간 고려한 스태핑
- **자원 할당**: 장기 재원 환자 집중 관리

#### 6.2.2 질 향상 활동
- **조기 퇴실 프로토콜**: 단기 환자 대상 강화
- **장기 재원 예방**: 조기 재활, 감염 관리
- **ICU별 맞춤 전략**: 유닛 특성별 개선 활동

#### 6.2.3 예측 모델 개발
- **재원기간 예측**: 입실 시 예상 기간 산출
- **자원 계획**: 예측 기반 병상 운영
- **위험도 평가**: 장기 재원 위험 환자 식별

### 6.3 연구의 한계와 향후 과제

#### 6.3.1 한계점
- 샘플링 데이터의 대표성 문제
- 질병 중증도 미고려
- ICU 간 전실 패턴 분석 부족

#### 6.3.2 향후 연구 방향
- 전체 MIMIC 데이터 분석
- 중증도 보정 재원기간 분석
- 시계열 트렌드 분석
- 재원기간 예측 모델 개발

---

## 부록

### A. 데이터 처리 코드
- 데이터 추출: `scripts/analysis/extract_sampled_icu_data.py`
- 메인 분석: `scripts/analysis/analyze_icu_los.py`

### B. 생성된 시각화
1. ICU별 재원기간 박스플롯 (`figures/icu_los_boxplot.png`)
2. 평균 재원기간 막대그래프 (`figures/icu_los_barplot.png`)
3. 재원기간 분포 히스토그램 (`figures/icu_los_distribution.png`)
4. ICU별 사망률 차트 (`figures/icu_mortality_rate.png`)
5. 재원기간 구간별 분포 (`figures/icu_los_categories.png`)

### C. 통계 분석 결과
- JSON 형식 저장: `data/results.json`
- 추출 요약: `data/extraction_summary.json`

---

*작성일: 2025년 8월*
*분석자: MIMIC 데이터 분석팀*