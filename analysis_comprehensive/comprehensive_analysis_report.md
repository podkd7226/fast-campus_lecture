# MIMIC-IV 데이터셋 종합 분석 보고서

## 목차
1. [개요](#개요)
2. [데이터셋 구조](#데이터셋-구조)
3. [데이터 통계 분석](#데이터-통계-분석)
4. [주요 발견사항](#주요-발견사항)
5. [데이터 품질 평가](#데이터-품질-평가)
6. [활용 방안 및 권장사항](#활용-방안-및-권장사항)

---

## 개요

### MIMIC-IV 소개
MIMIC-IV (Medical Information Mart for Intensive Care IV)는 Beth Israel Deaconess Medical Center에서 수집된 대규모 의료 데이터베이스입니다. 이 데이터셋은 환자의 입원, 진단, 처치, 검사 결과 등 포괄적인 의료 정보를 포함하고 있습니다.

### 분석 범위
- **분석 기간**: 2008년 ~ 2019년 (anchor_year_group 기준)
- **분석 대상**: 전체 데이터셋 - 382,278명의 환자, 523,740건의 입원 기록, 2,189,535건의 이동 기록
- **핵심 테이블**: admissions, patients, transfers (전체 데이터 분석)
- **참고**: 본 분석은 MIMIC-IV core 테이블의 전체 데이터를 사용함

---

## 데이터셋 구조

### 1. Core 테이블 구조

#### **admissions.csv** (입원 정보)
- **총 레코드 수**: 523,740건 (전체 분석)
- **주요 필드**: 
  - `subject_id`: 환자 고유 식별자
  - `hadm_id`: 입원 고유 식별자
  - `admittime/dischtime`: 입원/퇴원 시간
  - `admission_type`: 입원 유형 (응급, 예약, 관찰 등)
  - `hospital_expire_flag`: 병원 내 사망 여부

#### **patients.csv** (환자 기본정보)
- **총 레코드 수**: 382,278건 (전체 분석)
- **주요 필드**:
  - `subject_id`: 환자 고유 식별자
  - `gender`: 성별
  - `anchor_age`: 기준 시점 나이
  - `dod`: 사망일 (Date of Death)

#### **transfers.csv** (병동 이동 기록)
- **총 레코드 수**: 2,189,535건 (전체 분석)
- **주요 필드**:
  - `transfer_id`: 이동 고유 식별자
  - `eventtype`: 이벤트 유형 (입원, 전동, 퇴원)
  - `careunit`: 진료 부서
  - `intime/outtime`: 입실/퇴실 시간

### 2. 데이터 관계도

```
┌──────────────────┐
│    patients      │
│                  │
│  - subject_id    │ (PK)
│  - gender        │
│  - anchor_age    │
│  - dod           │
└────────┬─────────┘
         │ 1
         │
         │ *
┌────────▼─────────┐
│   admissions     │
│                  │
│  - subject_id    │ (FK)
│  - hadm_id       │ (PK)
│  - admittime     │
│  - dischtime     │
│  - insurance     │
└────────┬─────────┘
         │ 1
         │
         │ *
┌────────▼─────────┐
│   transfers      │
│                  │
│  - subject_id    │ (FK)
│  - hadm_id       │ (FK, nullable)
│  - transfer_id   │ (PK)
│  - eventtype     │
│  - careunit      │
│  - intime        │
└──────────────────┘
```

**관계 설명**:
- **patients → admissions**: 1:N 관계 (한 환자는 여러 번 입원 가능)
- **admissions → transfers**: 1:N 관계 (한 입원 건당 여러 번의 병동 이동 가능)
- **patients → transfers**: 1:N 관계 (subject_id로 직접 연결)
- 주의: transfers의 hadm_id는 nullable (15.9% 결측)

---

## 데이터 통계 분석

### 1. 환자 인구통계학적 특성

**중요**: 
- patients 테이블: 382,278명 전체 환자 정보
- admissions 테이블: 256,878명 고유 환자의 523,740건 입원 기록
- transfers 테이블: 382,278명 환자의 2,189,535건 이동 기록

#### 성별 분포 (patients 테이블 382,278명 전체 환자 기준)
| 성별 | 환자 수 | 비율 |
|------|--------|------|
| 여성 | 199,707명 | 52.2% |
| 남성 | 182,571명 | 47.8% |

#### 연령 분포 (patients 테이블 382,278명 전체 환자 기준)
| 연령대 | 환자 수 | 비율 |
|--------|---------|------|
| 0-18세 (소아) | 4,166명 | 1.1% |
| 19-40세 (청년) | 125,704명 | 32.9% |
| 41-60세 (중년) | 90,730명 | 23.7% |
| 61-80세 (노년) | 74,001명 | 19.4% |
| 80세 이상 (초고령) | 26,805명 | 7.0% |
| 결측값 | 60,872명 | 15.9% |

**주요 통계**:
- 평균 연령: 40.9세
- 중앙값: 41.0세
- 표준편차: 26.1세

#### 인종 분포 (admissions 테이블 523,740건 전체 입원 기준)
| 인종 | 입원 건수 | 비율 |
|------|-----------|------|
| 백인 | 337,630건 | 64.5% |
| 흑인/아프리카계 | 80,293건 | 15.3% |
| 히스패닉/라틴계 | 29,823건 | 5.7% |
| 아시아계 | 24,506건 | 4.7% |
| 기타 | 26,813건 | 5.1% |
| 불명 | 19,400건 | 3.7% |
| 원주민 | 1,535건 | 0.3% |
| 미취득 | 3,740건 | 0.7% |

### 2. 입원 패턴 분석 (523,740건 전체 입원 기록 기준)

#### 입원 유형별 분포
| 입원 유형 | 건수 | 비율 |
|-----------|------|------|
| 응급실 응급 | 157,896건 | 30.2% |
| 응급실 관찰 | 100,445건 | 19.2% |
| 예약 입원 | 72,072건 | 13.8% |
| 관찰 입원 | 55,497건 | 10.6% |
| 긴급 | 47,930건 | 9.2% |
| 당일 수술 | 41,074건 | 7.8% |
| 직접 응급 | 21,581건 | 4.1% |
| 직접 관찰 | 19,991건 | 3.8% |
| 외래 관찰 | 7,254건 | 1.4% |

#### 입원 경로
| 경로 | 건수 | 비율 |
|------|------|------|
| 응급실 | 245,744건 | 52.9% |
| 의사 소개 | 127,494건 | 27.5% |
| 타병원 전원 | 39,121건 | 8.4% |
| 직접 방문 | 16,660건 | 3.6% |
| 클리닉 소개 | 10,670건 | 2.3% |
| 수술장 | 8,449건 | 1.8% |
| 회복실 | 6,067건 | 1.3% |
| 정신과 전원 | 4,467건 | 1.0% |
| 요양원 전원 | 4,063건 | 0.9% |

#### 보험 유형
| 보험 유형 | 건수 | 비율 |
|-----------|------|------|
| 기타 | 301,530건 | 57.6% |
| Medicare | 171,360건 | 32.7% |
| Medicaid | 50,850건 | 9.7% |

### 3. 재원기간 분석

#### 재원일수 통계
| 지표 | 값 |
|------|-----|
| 평균 재원일수 | 4.6일 |
| 중앙값 | 2.7일 |
| 25분위수 | 1.2일 |
| 75분위수 | 5.0일 |
| 95분위수 | 14.4일 |

#### 응급실 체류시간
- **평균**: 10.2시간
- **중앙값**: 7.4시간
- **응급실 경유 입원율**: 59.5%

### 4. 사망률 분석

#### 전체 사망률
| 구분 | 건수/명수 | 비율 |
|------|-----------|------|
| 병원 내 사망 (523,740건 입원 중) | 9,350건 | 1.79% |
| 전체 사망 환자 (patients 382,278명 중) | 9,509명 | 2.49% |

#### 입원 유형별 사망률
| 입원 유형 | 사망률 |
|-----------|--------|
| 긴급 | 3.66% |
| 응급실 응급 | 3.48% |
| 직접 응급 | 2.03% |
| 관찰 입원 | 2.04% |
| 예약 입원 | 0.41% |
| 당일 수술 | 0.31% |
| 직접 관찰 | 0.13% |
| 응급실 관찰 | 0.08% |
| 외래 관찰 | 0.01% |

#### 연령대별 사망 분포
| 연령대 | 사망자 수 |
|--------|-----------|
| 0-18세 | 1명 |
| 19-40세 | 413명 |
| 41-60세 | 1,984명 |
| 61-80세 | 4,205명 |
| 80세 이상 | 2,693명 |

### 5. 재입원 패턴

#### 재입원 통계
| 지표 | 값 |
|------|-----|
| 재입원 경험 환자 | 85,111명 (33.1%) |
| 총 재입원 건수 | 264,944건 |
| 30일 내 재입원 | 91,177건 |
| 30일 재입원율 | 17.4% |

#### 입원 빈도 분석 (총 256,878명 고유 환자 기준)
| 입원 횟수 | 환자 수 | 비율 |
|-----------|---------|------|
| 1회 | 171,080명 | 66.6% |
| 2회 이상 | 85,798명 | 33.4% |
| 5회 이상 | 20,250명 | 7.9% |
| 평균 입원 횟수 | 2.04회 | - |
| 최대 입원 횟수 | 238회 | - |

### 6. 병동 이동 패턴

#### 이벤트 유형별 분포
| 이벤트 유형 | 건수 | 비율 |
|-------------|------|------|
| 응급실 | 661,053건 | 30.2% |
| 입원 | 523,749건 | 23.9% |
| 퇴원 | 523,740건 | 23.9% |
| 전동 | 480,993건 | 22.0% |

#### 주요 진료 부서
| 부서 | 이동 건수 |
|------|-----------|
| 응급실 | 661,053건 |
| 내과 | 150,908건 |
| 응급실 관찰 | 85,815건 |
| 신생아실 | 67,664건 |
| 내과/외과 | 49,926건 |
| 내과/심장내과 | 46,447건 |
| 신경과 | 41,183건 |
| 혈액/종양과 | 37,522건 |
| 혈관외과 | 32,965건 |
| 이식센터 | 31,529건 |
| 신생아 중환자실(NICU) | 29,363건 |
| 외상센터 | 28,112건 |
| 산부인과 | 27,993건 |
| 회복실(PACU) | 26,459건 |
| 분만실 | 24,038건 |

---

## 주요 발견사항

### 💡 핵심 인사이트

1. **높은 응급실 의존도**
   - 523,740건 입원 중 59.5% (311,504건)가 응급실 경유
   - 응급실 평균 체류시간 10.2시간으로 과밀화 시사

2. **재입원 관리 필요성**
   - 30일 재입원율 17.4% (91,177건/523,740건)
   - 256,878명 환자 중 33.4% (85,798명)가 다회 입원 경험
   - 환자당 평균 2.04회 입원

3. **고령화 영향**
   - 61세 이상 환자가 전체의 26.4% 차지
   - 고령층일수록 사망률 급격히 증가

4. **짧은 평균 재원일수**
   - 평균 4.6일로 효율적인 병상 회전율
   - 그러나 25%의 환자는 5.0일 이상 입원

5. **낮은 병원 내 사망률**
   - 1.79%로 양호한 수준
   - 그러나 입원 유형별 편차 존재

---

## 데이터 품질 평가

### 결측값 현황

#### admissions 테이블
| 필드 | 결측률 |
|------|--------|
| deathtime | 98.2% (정상 - 사망자만 기록) |
| edregtime/edouttime | 40.5% (응급실 미경유) |
| marital_status | 12.6% |
| admission_location | 11.5% |
| discharge_location | 24.2% |

#### patients 테이블
| 필드 | 결측률 |
|------|--------|
| dod | 97.5% (정상 - 사망자만 기록) |

#### transfers 테이블
| 필드 | 결측률 |
|------|--------|
| careunit | 26.7% |
| outtime | 23.9% |
| hadm_id | 15.9% |

### 데이터 품질 평가 결과
- **우수**: 핵심 식별자(subject_id, hadm_id) 무결성
- **양호**: 시간 정보 기록 완전성
- **개선필요**: careunit 정보 일부 결측

---

## 활용 방안 및 권장사항

### 1. 임상 의사결정 지원

#### 재입원 예측 모델
- **목표**: 30일 재입원 고위험군 식별
- **활용 변수**: 
  - 환자 특성 (나이, 성별, 기저질환)
  - 입원 패턴 (입원 유형, 재원일수)
  - 퇴원 정보 (퇴원 장소, 퇴원 시 상태)
- **기대효과**: 재입원율 10% 감소

#### 사망률 예측 모델
- **목표**: 입원 시점 위험도 평가
- **활용 변수**:
  - 입원 경로 (응급실, 직접입원)
  - 환자 연령 및 동반질환
  - 초기 활력징후
- **기대효과**: 조기 중재를 통한 사망률 감소

### 2. 병원 운영 최적화

#### 응급실 과밀화 해소
- **현황**: 평균 10.2시간 체류
- **개선방안**:
  - Fast Track 시스템 도입
  - 입원 결정 프로세스 개선
  - 관찰병동 확대
- **목표**: 평균 체류시간 8시간 이하

#### 병상 관리 효율화
- **현황**: 평균 재원일수 4.6일
- **개선방안**:
  - 재원일수 예측 모델 구축
  - 퇴원 계획 조기 수립
  - 진료과별 병상 배분 최적화
- **목표**: 병상 회전율 10% 개선

### 3. 연구 및 분석 과제

#### 단기 과제 (3-6개월)
1. **재입원 패턴 심층 분석**
   - 진단명별 재입원율 분석
   - 재입원 원인 분류
   - 예방 가능 재입원 식별

2. **응급실 효율성 분석**
   - 시간대별 과밀도 패턴
   - 입원 결정 소요시간 분석
   - 병목구간 식별

#### 중장기 과제 (6-12개월)
1. **예측 모델 개발**
   - 재입원 예측 모델
   - 재원일수 예측 모델
   - 사망률 예측 모델

2. **임상 경로 최적화**
   - 질환별 표준 진료 경로 개발
   - 이상 패턴 감지 시스템
   - 실시간 모니터링 대시보드

### 4. 데이터 활용 시 주의사항

#### 개인정보 보호
- 모든 분석 시 환자 식별 정보 제거
- HIPAA 준수 필수
- 데이터 접근 권한 관리

#### 데이터 한계점
- careunit 정보 일부 결측
- 진단 및 처치 정보 별도 테이블 필요
- 활력징후 등 임상 데이터 추가 필요

#### 분석 시 고려사항
- 시간적 편향 (연도별 진료 패턴 변화)
- 선택 편향 (특정 병원 데이터)
- 결측값 처리 방법론 명확화

---

## 결론

MIMIC-IV 데이터셋은 대규모 의료 데이터를 통한 임상 연구와 병원 운영 개선에 매우 유용한 자원입니다. 본 분석을 통해 다음과 같은 주요 사실을 확인했습니다:

1. **데이터 규모와 품질**: 523,740건의 입원 기록과 382,278명의 환자 정보를 포함하며, 핵심 필드의 완전성이 우수합니다. (전체 데이터 분석 완료)

2. **임상적 가치**: 재입원 예측, 사망률 예측, 재원일수 예측 등 다양한 예측 모델 개발에 활용 가능합니다.

3. **운영 개선 기회**: 응급실 과밀화 해소, 병상 관리 효율화 등 병원 운영 개선에 직접적으로 활용 가능합니다.

4. **추가 분석 필요성**: hosp 및 icu 폴더의 추가 데이터를 결합하여 더욱 심층적인 분석이 가능합니다.

향후 이 데이터셋을 활용한 지속적인 연구와 분석을 통해 의료 서비스 품질 향상과 환자 안전 개선에 기여할 수 있을 것으로 기대됩니다.

---

## 부록

### A. 데이터 딕셔너리

#### admissions 테이블
| 컬럼명 | 데이터 타입 | 설명 | 결측률 |
|--------|-------------|------|--------|
| subject_id | INTEGER | 환자 고유 ID | 0% |
| hadm_id | INTEGER | 입원 고유 ID | 0% |
| admittime | DATETIME | 입원 시간 | 0% |
| dischtime | DATETIME | 퇴원 시간 | 0% |
| deathtime | DATETIME | 사망 시간 | 98.2% |
| admission_type | VARCHAR | 입원 유형 | 0% |
| admission_location | VARCHAR | 입원 경로 | 11.5% |
| discharge_location | VARCHAR | 퇴원 장소 | 24.2% |
| insurance | VARCHAR | 보험 유형 | 0% |
| language | VARCHAR | 사용 언어 | 0% |
| marital_status | VARCHAR | 결혼 상태 | 12.6% |
| ethnicity | VARCHAR | 인종 | 0% |
| edregtime | DATETIME | 응급실 등록 시간 | 40.5% |
| edouttime | DATETIME | 응급실 퇴실 시간 | 40.5% |
| hospital_expire_flag | INTEGER | 병원 내 사망 여부 (0/1) | 0% |

#### patients 테이블
| 컬럼명 | 데이터 타입 | 설명 | 결측률 |
|--------|-------------|------|--------|
| subject_id | INTEGER | 환자 고유 ID | 0% |
| gender | VARCHAR | 성별 (M/F) | 0% |
| anchor_age | INTEGER | 기준 시점 나이 | 0% |
| anchor_year | INTEGER | 기준 연도 | 0% |
| anchor_year_group | VARCHAR | 기준 연도 그룹 | 0% |
| dod | DATE | 사망일 | 97.5% |

#### transfers 테이블
| 컬럼명 | 데이터 타입 | 설명 | 결측률 |
|--------|-------------|------|--------|
| subject_id | INTEGER | 환자 고유 ID | 0% |
| hadm_id | INTEGER | 입원 고유 ID | 15.9% |
| transfer_id | INTEGER | 이동 고유 ID | 0% |
| eventtype | VARCHAR | 이벤트 유형 | 0% |
| careunit | VARCHAR | 진료 부서 | 26.7% |
| intime | DATETIME | 입실 시간 | 0% |
| outtime | DATETIME | 퇴실 시간 | 23.9% |

### B. 분석 코드 및 스크립트
- `comprehensive_mimic_analysis.py`: 종합 분석 및 JSON 출력

### C. 참고 자료
- [MIMIC-IV 공식 문서](https://mimic.mit.edu/)
- [PhysioNet 데이터베이스](https://physionet.org/)
- [MIMIC-IV 논문](https://www.nature.com/articles/s41597-022-01899-y)

---

*본 보고서는 MIMIC-IV 데이터셋의 core 테이블 전체 데이터를 기반으로 작성되었으며, 256,878명의 고유 환자와 523,740건의 입원 기록, 2,189,535건의 이동 기록을 분석했습니다. 추가적인 hosp 및 icu 데이터 분석을 통해 더욱 상세한 인사이트를 도출할 수 있습니다.*

**작성일**: 2025년 8월 12일  
**수정일**: 2025년 8월 18일 (전체 데이터 재분석)  
**분석 도구**: Python (pandas, numpy, matplotlib, seaborn)  
**데이터 출처**: MIMIC-IV Database  
**분석 범위**: 256,878명 고유 환자, 523,740건 입원 기록, 2,189,535건 이동 기록 (전체 데이터)